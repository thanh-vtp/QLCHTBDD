@model IEnumerable<QLCHTBDD_62131904.Models.SanPham>

@{
    ViewBag.Title = "Sản phẩm";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
    var grid = new WebGrid(Model, canPage: true, defaultSort: "TenSP", rowsPerPage: 10);
    @Scripts.Render("~/Scripts/jquery-1.6.2.min.js");
}


<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f8f9fa;
        margin: 0;
        padding: 0;
    }

    h2 {
        font-weight: bold;
        color: #007BFF;
        text-align: center;
        margin: 20px 0;
    }

    .btn-primary {
        background-color: #007bff;
        border: none;
        font-weight: bold;
        color: #fff;
    }

        .btn-primary:hover {
            background-color: #0056b3;
        }

    .table {
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        border-radius: 5px;
        margin: 20px auto;
        overflow: hidden;
    }

        .table th {
            background-color: #343a40;
            color: #ffffff;
            text-align: center;
            padding: 10px;
        }

        .table td, .table th {
            vertical-align: middle;
            text-align: center;
            padding: 8px;
        }

    .table-hover tbody tr:hover {
        background-color: #e9ecef;
        cursor: pointer;
    }

    .thead-light th a{
        text-decoration: none;
    }

    .thead-light th a:hover {
        text-decoration: none;
    }

    .btn {
        font-weight: bold;
        text-shadow: none;
        border: none;
    }

    .btn-warning {
        background-color: #ffc107;
        color: #fff;
    }

    .btn-info {
        background-color: #17a2b8;
        color: #fff;
    }

    .btn-danger {
        background-color: #dc3545;
        color: #fff;
    }

    .btn:hover {
        opacity: 0.8;
    }

    img.table-img {
        border-radius: 5px;
        max-width: 50px;
        height: auto;
        max-height: 50px;
        object-fit: cover;
    }

    .grid-footer {
        padding: 15px;
        background-color: #f1f1f1;
        font-size: 16px;
        color: #343a40;
        text-align: center;
    }

        .grid-footer a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
        }

            .grid-footer a:hover {
                color: #0056b3;
            }
</style>

<h2>Danh sách sản phẩm</h2>

<p class="text-left mb-3">
    @Html.ActionLink("Thêm mới", "Create", null, new { @class = "btn btn-primary" })
</p>

<div id="gridContent">
    @grid.GetHtml(
        tableStyle: "table table-bordered table-hover",
        headerStyle: "thead-light",
        alternatingRowStyle: "table-secondary",
        footerStyle: "grid-footer",
        mode: WebGridPagerModes.Numeric,
        columns: new[]
        {
            grid.Column("STT", "STT", style: "text-center", format: item => item.WebGrid.Rows.IndexOf(item) + 1 + Math.Round(Convert.ToDouble(grid.TotalRowCount / grid.PageCount) / grid.RowsPerPage) * grid.RowsPerPage * grid.PageIndex),
            grid.Column("TenSP", "Tên sản phẩm", style: "text-left", format: item => item.TenSP),
            grid.Column("MoTa", "Mô tả", style: "text-left", format: item => item.MoTa),
            grid.Column("DonGia", "Đơn giá", style: "text-center", format: item => string.Format("{0:C}", item.DonGia)),
            grid.Column("DonViTinh", "Đơn vị tính", style: "text-center", format: item => item.DonViTinh),
            grid.Column("AnhSP", "Ảnh sản phẩm", format: item => Html.Raw($"<img src='/Images/{item.AnhSP}' class='img-fluid table-img' alt='Ảnh' />")),
            grid.Column("LoaiSP.TenLSP", "Loại sản phẩm", style: "text-left", format: item => item.LoaiSP?.TenLSP ?? "N/A"),
            grid.Column("Chức năng", format: @<text>
    <a href="@Url.Action("Edit", new { id = item.MaSP })" title="Cập nhật" class="btn btn-sm btn-warning">Sửa</a>
    <a href="@Url.Action("Details", new { id = item.MaSP })" title="Xem chi tiết" class="btn btn-sm btn-info">Chi tiết</a>
    <a href="@Url.Action("Delete", new { id = item.MaSP })" title="Xóa" class="btn btn-sm btn-danger">Xóa</a>
            </text>)
 }
)
</div>